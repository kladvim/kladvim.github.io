<!--
    Simple static Telegram WebApp. Does not verify the WebAppInitData, as a bot token would be needed for that.
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>python-telegram-bot Example WebApp</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jaames/iro@5"></script>
</head>
<script type="text/javascript">
    const colorPicker = new iro.ColorPicker('#picker', {
        borderColor: "#ffffff",
        borderWidth: 1,
        width: Math.round(document.documentElement.clientWidth / 2),
    });
    colorPicker.on('color:change', function (color) {
        document.body.style.background = color.hexString;
    });

    Telegram.WebApp.ready();
    Telegram.WebApp.MainButton.setText('Choose Color').show().onClick(function () {
        const data = JSON.stringify({hex: colorPicker.color.hexString, rgb: colorPicker.color.rgb});
        Telegram.WebApp.sendData(data);
        Telegram.WebApp.close();
    });
</script>
<body style="background-color: #ffffff">
<div style="position: absolute; margin-top: 5vh; margin-left: 5vw; height: 90vh; width: 90vw; border-radius: 5vh; background-color: var(--tg-theme-bg-color); box-shadow: 0 0 2vw
 #000000;">
<!--    <div id="picker"-->
<!--         style="display: flex; justify-content: center; align-items: center; height: 100%; width: 100%"></div>-->
<!--</div>-->
    <code>{
	"Ticket": [
		{
			"QueueCode": "testovye_tikety_35",
			"OwnerLastname": "Ким",
			"TicketNumber": "0000098518",
			"Article": [
				{
					"Body": "test body",
					"References": "",
					"ChangeTime": "2023-06-23 11:18:28",
					"MimeType": "text/plain",
					"TimeUnit": 0,
					"ArticleType": "InitialNote",
					"FromRealname": "Soc Auto .",
					"MessageID": "",
					"CommunicationChannelID": 1,
					"ContentCharset": "utf-8",
					"From": "\"Soc Auto .\" <soc-auto@rt.ru>",
					"BodyHTML": "test body",
					"InReplyTo": "",
					"Cc": "",
					"SenderTypeID": "5",
					"CreateTime": "2023-06-23 11:18:28",
					"DynamicField": [
						{
							"Name": "JiraArticleID",
							"Value": null
						},
						{
							"Name": "JiraSendFlag",
							"Value": null
						},
						{
							"Value": null,
							"Name": "RTKArticleID"
						}
					],
					"SenderType": "external",
					"ChangeBy": 19,
					"ContentType": "text/plain; charset=utf-8",
					"Bcc": "",
					"Subject": "test subject",
					"CreatorEmail": "soc-auto@rt.ru",
					"ArticleID": 390737,
					"ToRealname": "Тестовые тикеты",
					"Charset": "utf-8",
					"TicketID": 91100,
					"To": "Тестовые тикеты",
					"ArticleNumber": 1,
					"CreateBy": 19,
					"ReplyTo": "",
					"IsVisibleForCustomer": 1,
					"IncomingTime": 1687508308
				},
				{
					"MimeType": "text/plain",
					"References": "",
					"ChangeTime": "2023-06-23 11:22:59",
					"Body": "2 заметка",
					"ArticleType": "CustomerUserNote",
					"CommunicationChannelID": 3,
					"MessageID": "",
					"FromRealname": "soc-auto soc-auto soc-auto",
					"TimeUnit": 0,
					"From": "soc-auto soc-auto soc-auto",
					"ContentCharset": "utf-8",
					"InReplyTo": "",
					"CreateTime": "2023-06-23 11:22:59",
					"Cc": "",
					"SenderTypeID": "3",
					"Bcc": "",
					"ContentType": "text/plain; charset=utf-8",
					"Subject": "Тест",
					"SenderType": "customer",
					"DynamicField": [
						{
							"Value": null,
							"Name": "JiraArticleID"
						},
						{
							"Value": null,
							"Name": "JiraSendFlag"
						},
						{
							"Value": null,
							"Name": "RTKArticleID"
						}
					],
					"ChangeBy": 19,
					"Charset": "utf-8",
					"ArticleID": 390738,
					"TicketID": 91100,
					"To": "",
					"IncomingTime": 1687508579,
					"ReplyTo": "",
					"CreateBy": 19,
					"ArticleNumber": 2,
					"IsVisibleForCustomer": 1
				},
				{
					"DynamicField": [
						{
							"Value": null,
							"Name": "JiraArticleID"
						},
						{
							"Name": "JiraSendFlag",
							"Value": null
						},
						{
							"Name": "RTKArticleID",
							"Value": null
						}
					],
					"SenderType": "agent",
					"ChangeBy": 66,
					"ContentType": "text/plain; charset=utf-8",
					"Bcc": "",
					"Subject": "Инцидент: TEST-2 -> отклонена (Тестовые тикеты)",
					"CreatorEmail": "kim.vladislav@rt.ru",
					"ArticleID": 390751,
					"Charset": "utf-8",
					"TicketID": 91100,
					"To": "",
					"ArticleNumber": 3,
					"CreateBy": 66,
					"ReplyTo": "",
					"IsVisibleForCustomer": 1,
					"IncomingTime": 1687510050,
					"Body": "Заявка отклонена",
					"ChangeTime": "2023-06-23 11:47:30",
					"References": "",
					"MimeType": "text/plain",
					"TimeUnit": 0,
					"ArticleType": "Decision",
					"FromRealname": "Ким Владислав Алексеевич",
					"CommunicationChannelID": 3,
					"MessageID": "",
					"From": "\"Ким Владислав Алексеевич\" <kim.vladislav@rt.ru>",
					"ContentCharset": "utf-8",
					"InReplyTo": "",
					"BodyHTML": "<!DOCTYPE html><html><head><meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/></head><body style=\"font-family:Geneva,Helvetica,Arial,sans-serif; font-size: 12px;\">Заявка отклонена</body></html>",
					"Cc": "",
					"SenderTypeID": "1",
					"CreateTime": "2023-06-23 11:47:30"
				}
			],
			"Priority": "3 middle",
			"QueueID": 200,
			"DynamicField_CSCUseCaseID": "TT-AT-006",
			"DynamicField_ITSMImpact": "3 middle",
			"DynamicField_Ownermail": "kim.vladislav@rt.ru",
			"DynamicField_Closed": "2023-06-23 11:47:30",
			"PreviousState": "open",
			"PreviousStateID": 4,
			"DynamicField_Executed": "2023-06-23 11:47:30",
			"SLAID": 1,
			"DynamicField_ITSMCriticality": "2 middle",
			"ServiceID": 7,
			"ResponsibleID": 1,
			"CustomerUserID": "soc-auto",
			"DynamicField_CSCDetectTime": "2022-12-16 13:34:48",
			"EscalationUpdateTime": 0,
			"Changed": "2023-06-23 11:47:31",
			"DynamicField_CSCKII": "да",
			"PublicFlag": 0,
			"StateType": "closed",
			"EscalationSolutionTime": 0,
			"DynamicField_CustomerUserFullName": "Soc Auto .",
			"CreateBy": 19,
			"Owner": "kim.vladislav@rt.ru",
			"Type": "Инцидент",
			"TypeID": 2,
			"GroupID": 233,
			"EscalationDispatchTime": 0,
			"StateID": 3,
			"DynamicField_CSCPlatformID": "1674663",
			"DynamicField_CSCIRPID": "~0123456789",
			"DynamicField_CSCKIICategory": "1 (ЗОКИИ)",
			"SolutionTimeDestinationDate": "1970-01-01 03:00:00",
			"PriorityID": 2,
			"EscalationTime": 0,
			"CustomerUserMiddlename": ".",
			"Title": "TEST-2",
			"Lock": "unlock",
			"LockID": 1,
			"UntilTime": 0,
			"ServiceCode": "SEM",
			"DynamicField_CSCStartTime": "2022-12-16 13:36:48",
			"CustomerUserLastname": "Soc",
			"Responsible": "root@localhost",
			"WorkflowTasks": [
				{
					"Changed": "2023-06-23 11:47:31",
					"TicketNumber": "0000098518",
					"OwnerLastname": "Ким",
					"Title": "TEST-2",
					"PublicFlag": 0,
					"Approvers": null,
					"QueueID": 200,
					"Article": [
						{
							"TicketID": 91100,
							"To": "Тестовые тикеты",
							"IncomingTime": 1687508308,
							"CreateBy": 19,
							"ReplyTo": "",
							"ArticleNumber": 1,
							"IsVisibleForCustomer": 1,
							"Bcc": "",
							"ContentType": "text/plain; charset=utf-8",
							"Subject": "test subject",
							"CreatorEmail": "soc-auto@rt.ru",
							"SenderType": "external",
							"DynamicField": [
								{
									"Value": null,
									"Name": "JiraArticleID"
								},
								{
									"Value": null,
									"Name": "JiraSendFlag"
								},
								{
									"Value": null,
									"Name": "RTKArticleID"
								}
							],
							"ChangeBy": 19,
							"Charset": "utf-8",
							"ToRealname": "Тестовые тикеты",
							"ArticleID": 390737,
							"ContentCharset": "utf-8",
							"From": "\"Soc Auto .\" <soc-auto@rt.ru>",
							"BodyHTML": "test body",
							"InReplyTo": "",
							"CreateTime": "2023-06-23 11:18:28",
							"Cc": "",
							"SenderTypeID": "5",
							"MimeType": "text/plain",
							"References": "",
							"ChangeTime": "2023-06-23 11:18:28",
							"Body": "test body",
							"ArticleType": "InitialNote",
							"CommunicationChannelID": 1,
							"MessageID": "",
							"FromRealname": "Soc Auto .",
							"TimeUnit": 0
						},
						{
							"To": "",
							"TicketID": 91100,
							"IsVisibleForCustomer": 1,
							"ArticleNumber": 2,
							"CreateBy": 19,
							"ReplyTo": "",
							"IncomingTime": 1687508579,
							"ChangeBy": 19,
							"DynamicField": [
								{
									"Value": null,
									"Name": "JiraArticleID"
								},
								{
									"Name": "JiraSendFlag",
									"Value": null
								},
								{
									"Name": "RTKArticleID",
									"Value": null
								}
							],
							"SenderType": "customer",
							"Subject": "Тест",
							"ContentType": "text/plain; charset=utf-8",
							"Bcc": "",
							"ArticleID": 390738,
							"Charset": "utf-8",
							"InReplyTo": "",
							"ContentCharset": "utf-8",
							"From": "soc-auto soc-auto soc-auto",
							"SenderTypeID": "3",
							"Cc": "",
							"CreateTime": "2023-06-23 11:22:59",
							"Body": "2 заметка",
							"ChangeTime": "2023-06-23 11:22:59",
							"References": "",
							"MimeType": "text/plain",
							"TimeUnit": 0,
							"FromRealname": "soc-auto soc-auto soc-auto",
							"CommunicationChannelID": 3,
							"MessageID": "",
							"ArticleType": "CustomerUserNote"
						},
						{
							"From": "\"Ким Владислав Алексеевич\" <kim.vladislav@rt.ru>",
							"ContentCharset": "utf-8",
							"InReplyTo": "",
							"BodyHTML": "<!DOCTYPE html><html><head><meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/></head><body style=\"font-family:Geneva,Helvetica,Arial,sans-serif; font-size: 12px;\">Заявка отклонена</body></html>",
							"Cc": "",
							"SenderTypeID": "1",
							"CreateTime": "2023-06-23 11:47:30",
							"Body": "Заявка отклонена",
							"MimeType": "text/plain",
							"References": "",
							"ChangeTime": "2023-06-23 11:47:30",
							"TimeUnit": 0,
							"ArticleType": "Decision",
							"MessageID": "",
							"CommunicationChannelID": 3,
							"FromRealname": "Ким Владислав Алексеевич",
							"TicketID": 91100,
							"To": "",
							"ReplyTo": "",
							"CreateBy": 66,
							"ArticleNumber": 3,
							"IsVisibleForCustomer": 1,
							"IncomingTime": 1687510050,
							"SenderType": "agent",
							"DynamicField": [
								{
									"Value": null,
									"Name": "JiraArticleID"
								},
								{
									"Value": null,
									"Name": "JiraSendFlag"
								},
								{
									"Name": "RTKArticleID",
									"Value": null
								}
							],
							"ChangeBy": 66,
							"Bcc": "",
							"ContentType": "text/plain; charset=utf-8",
							"Subject": "Инцидент: TEST-2 -> отклонена (Тестовые тикеты)",
							"CreatorEmail": "kim.vladislav@rt.ru",
							"ArticleID": 390751,
							"Charset": "utf-8"
						}
					],
					"State": "rejected",
					"Type": "Инцидент",
					"TicketID": "91100",
					"StateID": 3,
					"OwnerID": 66,
					"ApproversInfo": null,
					"ServiceID": 7,
					"PriorityID": 2,
					"Created": "2023-06-23 11:18:28",
					"OwnerFirstname": "Владислав",
					"Queue": "Тестовые тикеты"
				}
			],
			"UnlockTimeout": 1687510050,
			"TimeUnit": 0,
			"DynamicField_CSCInformSystem": "IB103-RT-NETWORK-MSPD",
			"RealTillTimeNotUsed": 0,
			"OwnerFirstname": "Владислав",
			"SLA": "SLA 24x7",
			"Queue": "Тестовые тикеты",
			"DynamicField_CSCKeyField": "kim.vladislav@rt.ru",
			"Service": "Мониторинг и реагирование на киберугрозы::Мониторинг и анализ событий ИБ::MSS-SEM. IB000-TEST",
			"Age": 341073,
			"ArchiveFlag": "n",
			"DynamicField_CSCCancellationType": "Testing",
			"State": "rejected",
			"CustomerUserFirstname": "Auto",
			"TicketID": 91100,
			"OwnerID": 66,
			"DynamicField_QueueTransfer": "2023-06-23 11:18:28",
			"EscalationResponseTime": 0,
			"DynamicField_CSCIncedentCategory": "Policy violation",
			"Access": "Forbidden",
			"Created": "2023-06-23 11:18:28",
			"ChangeBy": 66,
			"CustomerID": "51044",
			"DynamicField_CSCSource": "Qradar"
		}
	]
}</code>
</body>
<script type="text/javascript">
    Telegram.WebApp.expand();
</script>
</html>